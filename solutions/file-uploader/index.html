<!DOCTYPE html>
  <html lang="en">
    <head>
      <meta charset="UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Blocks by Uploadcare</title>
      <script
        async
        src="https://cdn.skypack.dev/-/es-module-shims@v1.5.8-O0uWfhbenfjMbv6D3d8E/dist=es2020,mode=raw,min/dist/es-module-shims.js"
      ></script>
      <script type="importmap">
        {
  "imports": {
    "@symbiotejs/symbiote": "https://cdn.skypack.dev/pin/@symbiotejs/symbiote@v1.11.5-xok0d4yq3JnqOTheB68R/mode=imports,min/optimized/@symbiotejs/symbiote.js",
    "@uploadcare/upload-client": "https://cdn.skypack.dev/-/@uploadcare/upload-client@v6.2.1-BoihH4bL0d7hAb0UH0Rx/dist=es2020,mode=raw,min/dist/index.browser.js"
  }
}

      </script>
      <script
        type="module"
        src="https://cdn.skypack.dev/pin/@re4ma/re4ma@v0.1.7-2fpA2FBNkO473Jd06xxO/mode=imports,min/unoptimized/build/re4ma.js"
      ></script>
      <script type="module">
        import { LiveHtml } from '../../blocks/LiveHtml/LiveHtml.js';
        LiveHtml.reg('lr-live-html');
      </script>
      <style>
         @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;700&display=swap');:root{--clr-bg:rgb(31 29 29);--clr-font:rgb(224 253 255);--clr-link:rgb(253 255 139);--clr-panel:rgb(255 255 255 / 10%);--clr-accent:rgb(233 159 255);--clr-accent-shade:rgb(233 159 255 / 6%);--clr-code:#fff;--clr-code-hl:rgb(255 112 112);--gap-min:2px;--gap-mid:10px;--gap-max:20px;--gap-huge:60px;}html,body{margin:0;padding:0;color:var(--clr-font);font-family:Roboto,sans-serif;background-color:var(--clr-bg);}body{display:grid;grid-template-rows:min-content min-content auto min-content;min-height:100vh;}header{padding:20px;background-color:rgba(0,0,0,.4);}nav{--l-bg-clr:rgba(60,60,60,.9);--blur:6px;display:flex;justify-content:center;position:sticky;z-index:10000;top:0;background-color:var(--l-bg-clr);height:100%;}@supports ((-webkit-backdrop-filter:blur(var(--blur))) or (backdrop-filter:blur(var(--blur)))){nav{--l-bg-clr:rgba(255,255,255,.1);backdrop-filter:blur(var(--blur));-webkit-backdrop-filter:blur(var(--blur));}}nav > div{display:flex;justify-content:end;align-items:center;width:100%;max-width:1300px;}nav a{display:block;color:var(--clr-font);margin:20px;text-decoration:none;text-shadow:1px 1px 2px rgba(0,0,0,.6);}main{display:flex;justify-content:center;padding:20px;}col-css{display:block;max-width:1080px;width:100%;}footer{padding:20px;background-color:rgba(0,0,0,.2);}lr-live-html{min-height:400px;}main a{color:var(--clr-link);}code{display:block;background-color:#000;color:var(--clr-code);padding:var(--gap-max);overflow-x:auto;}code .hl{color:var(--clr-code-hl);}code:not([class]){display:inline-block;padding:var(--gap-min);padding-left:.5em;padding-right:.5em;}blockquote{display:block;color:var(--clr-accent);background-color:var(--clr-accent-shade);padding:var(--gap-mid);margin:0;margin-top:var(--gap-max);border-left:var(--gap-min) solid currentColor;}h1{color:var(--clr-accent);}h2{margin-top:calc(var(--gap-max) * 3);}li{margin-bottom:var(--gap-mid);}table{width:100%;}th{padding:10px;background:rgba(0,0,0,.4);}td{padding:10px;background:rgba(255,255,255,.1);}tr:hover{background:rgba(255,255,255,.1);}.sidebar-wrapper{width:14rem;padding-right:1rem;}.sidebar{padding:1rem;display:flex;flex-direction:column;position:sticky;align-self:flex-start;top:79px;}.sidebar a{color:rgb(224 253 255);text-decoration:none;}.menu-section{margin-bottom:1rem;}.menu-item{padding:.5rem 0;}.menu-item:hover{color:rgba(186,186,186,.9);}.current{color:aquamarine;}.level-1{padding-left:.5rem;font-weight:600;cursor:pointer;}.level-2{padding-left:1.5rem;font-weight:300;cursor:pointer;}.level-2 .current{list-style-type:disc;}.arrow-top{cursor:pointer;position:fixed;bottom:15px;right:15px;}.no-link{cursor:auto;color:rgb(224 253 255) !important;}a[target="_blank"]:after{content:url(../../assets/media/external-link-icon.svg);margin-left:.1em;position:relative;bottom:2px;}.github:before{content:url(../../assets/media/github-icon.svg);margin-right:.1em;position:relative;top:1px;vertical-align:sub;}lr-live-html{position:relative;display:grid;grid-template-columns:50% 50%;box-shadow:0 5px 16px rgb(0 0 0 / 60%);}lr-live-html [contenteditable]{padding:20px;overflow:auto;color:rgb(255 255 255);font-size:14px;font-family:monospace;white-space:pre;background-color:#000;outline:none;}lr-live-html [contenteditable] .hljs-string{color:rgb(251,182,79);}lr-live-html [contenteditable] .hljs-comment{color:rgb(149,149,149);font-style:italic;}lr-live-html [contenteditable] .hljs-attr{color:rgb(138,218,172);}lr-live-html [contenteditable] .hljs-function{color:rgb(239,235,149);}lr-live-html [contenteditable] .hljs-variable{color:rgb(121,183,255);}lr-live-html [contenteditable] .hljs-title{color:rgb(180,243,255);}lr-live-html [contenteditable] .hljs-property{color:rgb(238,131,252);}lr-live-html [contenteditable] .hljs-keyword{color:rgb(254,165,176);}lr-live-html [contenteditable] .hljs-tag{color:rgb(254,165,176);}lr-live-html [contenteditable] .hljs-name{color:rgb(165,245,254);}lr-live-html iframe{display:block;width:100%;height:100%;background-color:#fff;border:0;}lr-live-html > .open-new-tab-btn{position:absolute;top:6px;left:6px;display:none;}lr-live-html:hover > .open-new-tab-btn{display:block;}lr-live-html{position:relative;display:grid;grid-template-columns:50% 50%;box-shadow:0 5px 16px rgb(0 0 0 / 60%);}code{padding:20px;overflow:auto;color:rgb(255 255 255);font-size:14px;font-family:monospace;white-space:pre;background-color:#000;outline:none;}code .hljs-string{color:rgb(251,182,79);}code .hljs-comment{color:rgb(149,149,149);font-style:italic;}code .hljs-attr{color:rgb(138,218,172);}code .hljs-function{color:rgb(239,235,149);}code .hljs-variable{color:rgb(121,183,255);}code .hljs-title{color:rgb(180,243,255);}code .hljs-property{color:rgb(238,131,252);}code .hljs-keyword{color:rgb(254,165,176);}code .hljs-tag{color:rgb(254,165,176);}code .hljs-name{color:rgb(165,245,254);}lr-live-html iframe{display:block;width:100%;height:100%;background-color:#fff;border:0;}lr-live-html > .open-new-tab-btn{position:absolute;top:6px;left:6px;display:none;}lr-live-html:hover > .open-new-tab-btn{display:block;}
      </style>
    </head>
    <body>
      <nav>
        <div>
          <span>üü° Uploadcare | blocks</span>
          <a style="margin-left: auto" href="//uploadcare.com" target="_blank">Uploadcare</a>
          <a href="//github.com/uploadcare/blocks/discussions" target="_blank">Discussions</a>
          <a href="//github.com/uploadcare/blocks" class="github" target="_blank">GitHub</a>
        </div>
      </nav>
      <main>
        <div class="sidebar-wrapper">
          <div class="sidebar">
            <div class="menu-section">
              <a href="../../"><div class="menu-item level-1">Get started</div></a>
              <a href="../../get-started/installation/"><div class="menu-item level-2">Installation</div></a>
              <a href="../../get-started/configuration/"><div class="menu-item level-2">Configuration</div></a>
              <a href="../../get-started/localization/"><div class="menu-item level-2">Localization</div></a>
            </div>
            <div class="menu-section">
              <div class="menu-item level-1 no-link">Components</div>
              <a href="../../solutions/file-uploader/"><div class="menu-item level-2">File Uploader</div></a>
              <a href="../../solutions/adaptive-image/"><div class="menu-item level-2">Adaptive image</div></a>
              <a href="../../solutions/cloud-image-editor/"><div class="menu-item level-2">Image editor</div></a>
            </div>
            <div class="menu-section">
              <a href="../../blocks/"><div class="menu-item level-1">Customization</div></a>
            </div>
          </div>
        </div>
        <col-css><h1 id="file-uploader">File uploader</h1>
<p>Here you can find a set of ready-made uploaders for the most frequent file uploading use-cases. Each uploader is highly customizable on its own and could be used as a custom build reference, or you can use it as is.</p>
<h3 id="on-this-page-youll-find">On this page you&#39;ll find</h3>
<h4 id="solutions">Solutions</h4>
<ul>
<li><a href="#example_regular">Regular case</a> ‚Äî the most common solution.</li>
<li><a href="#example_inline">Inline case</a> ‚Äî no modals, could be used inline.</li>
<li><a href="#example_mini">Minimal case</a> ‚Äî minimal and compact.</li>
</ul>
<h4 id="implementation">Implementation</h4>
<ul>
<li><a href="#configuration">Configuration</a></li>
<li><a href="#styling">Styling</a></li>
<li><a href="#handling_data">Data handling</a></li>
<li><a href="#events">Events</a></li>
<li><a href="#activities">Activities</a></li>
</ul>
<h2 id="üíé-solution-benefits">üíé Solution benefits</h2>
<ul>
<li>No heavy dependencies, modern and efficient technologies under the hood.</li>
<li>Uniform and seamless integration flow for all major web development stacks.</li>
<li>CSP (Content Security Policy) compatible: no <code>unsafe-inline</code> flags for the CSS or JavaScript are needed.</li>
<li>Multiple file sources (local, camera, external URLs, cloud services and social networks) support.</li>
<li>Open source (MIT license).</li>
<li>Built with love ‚ù§Ô∏è</li>
</ul>
<h2 id="üåé-supported-browsers">üåé Supported browsers</h2>
<p>Blocks are supported and tested in all major modern desktop and mobile browsers:</p>
<ul>
<li>Chrome</li>
<li>Firefox</li>
<li>Safari</li>
<li>Edge</li>
<li>Opera</li>
</ul>
<p>Internet Explorer is outdated and not supported <a target='_blank'  href="https://uploadcare.com/blog/uploadcare-stops-internet-explorer-support/">anymore</a>.
<br/><br/><br/></p>
<h1 id="regular-uploader"><a name="example_regular"></a>Regular uploader</h1>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">lr-file-uploader-regular</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">lr-file-uploader-regular</span>&gt;</span>
</code></pre>
<p><re-htm src="./regular/demo.htm"></re-htm>
<br/><br/><br/></p>
<h1 id="inline-uploader"><a name="example_inline"></a>Inline uploader</h1>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">lr-file-uploader-inline</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">lr-file-uploader-inline</span>&gt;</span>
</code></pre>
<p><re-htm src="./inline/demo.htm"></re-htm>
<br/><br/><br/></p>
<h1 id="minimalistic-uploader"><a name="example_mini"></a>Minimalistic uploader</h1>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">lr-file-uploader-minimal</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">lr-file-uploader-minimal</span>&gt;</span>
</code></pre>
<p><re-htm src="./minimal//demo.htm"></re-htm>
<br/><br/><br/></p>
<h1 id="üõ†-configuration"><a name="configuration"></a>üõ† Configuration</h1>
<h2 id="general">General</h2>
<p>All configurations, localization texts, icons, and styling are placed into CSS file (if you aren&#39;t familiar with this concept, read about <a href="../../get-started/configuration/">blocks configuration</a>), so you should connect the default one (or create your own):</p>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css">
  <span class="hljs-keyword">@import</span> url(<span class="hljs-attribute">https</span>://unpkg.com/@uploadcare/blocks@0.19.0/web/file-uploader-regular<span class="hljs-selector-class">.min</span><span class="hljs-selector-class">.css</span>);
  <span class="hljs-selector-class">.my-settings</span> {
    <span class="hljs-attr">--ctx-name</span>: <span class="hljs-string">&#x27;my-uploader&#x27;</span>;
    <span class="hljs-attr">--cfg-pubkey</span>: <span class="hljs-string">&#x27;demopublickey&#x27;</span>;
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">lr-uploader</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;my-settings lr-wgt-common&quot;</span>&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">lr-uploader</span>&gt;</span>
</code></pre>
<ul>
<li><code>lr-wgt-common</code> ‚Äî is a pre-defined common CSS class containing all basic uploader parameters.</li>
</ul>
<p>There are two major parameters you should know:</p>
<ol>
<li>Your Uploadcare&#39;s project public key: <code>--cfg-pubkey: &#39;YOUR_PUBLIC_KEY&#39;;</code>.</li>
<li>Workflow context name: <code>--ctx-name: &#39;CONTEXT_NAME&#39;;</code>.</li>
</ol>
<h2 id="public-key">Public key</h2>
<p>You should get a Public API Key in your <a target='_blank'  href="https://app.uploadcare.com/projects/-/api-keys/">Uploadcare project&#39;s dashboard</a> to use file uploading features.</p>
<p>For demo-only purposes, you can use <code>demopublickey</code> instead.</p>
<h2 id="context-name">Context name</h2>
<p>Our concept of workflow contexts is very similar to native HTML <code>name</code> attributes for the &quot;radio&quot; inputs. When you use the same names, elements act in one common context. In the case of &quot;radio&quot; inputs, all elements in the same context will know the state of the others (and you can make only one possible selection).</p>
<p>In the case of uploader, you can also set the context with a <code>ctx-name</code> attribute or <code>--ctx-name</code> custom CSS property. This helps to create the link between each uploader instance and its internal or external entities. By default, context is created automatically, but if you need to bind uploader to some other workflow, you can use the following approach:</p>
<pre><code class="language-html">...
<span class="hljs-tag">&lt;<span class="hljs-name">lr-uploader</span> <span class="hljs-attr">ctx-name</span>=<span class="hljs-string">&quot;my-uploading-workflow&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">lr-uploader</span>&gt;</span>
...
<span class="hljs-tag">&lt;<span class="hljs-name">lr-data-output</span> <span class="hljs-attr">ctx-name</span>=<span class="hljs-string">&quot;my-uploading-workflow&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">lr-data-output</span>&gt;</span>
...
</code></pre>
<p>For more information, read about <a target='_blank'  href="https://symbiotejs.org/?context">&quot;context&quot;</a> in Symbiote.js documentation.</p>
<h2 id="css-custom-properties">CSS custom properties</h2>
<p>All configurations could be provided via the set of <a target='_blank'  href="https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties">CSS-variables</a>:</p>
<pre><code class="language-css"><span class="hljs-selector-class">.my-settings</span> {
  <span class="hljs-attr">--cfg-pubkey</span>: <span class="hljs-string">&#x27;demopublickey&#x27;</span>;
  <span class="hljs-attr">--cfg-multiple</span>: <span class="hljs-number">1</span>;
  <span class="hljs-attr">--cfg-img-only</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attr">--cfg-source-list</span>: <span class="hljs-string">&#x27;local, url, camera, dropbox, gdrive, facebook&#x27;</span>;
  ...;
}
</code></pre>
<p>The variable value should be a correct JSON value. Strings should be taken in quotes. We use the <code>1</code> or <code>0</code> numbers to define boolean flags.</p>
<p>Any configuration value can be defined and redefined at any DOM-tree level regarding CSS selector specificity.</p>
<h2 id="parameters-description">Parameters description</h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
<th align="center">Values</th>
<th align="center">Default</th>
</tr>
</thead>
<tbody><tr>
<td><code>--cfg-pubkey</code></td>
<td>Your project Public Key</td>
<td align="center">string</td>
<td align="center"><code>YOUR_PUBLIC_KEY</code></td>
</tr>
<tr>
<td><code>--cfg-multiple</code></td>
<td>Allow to upload multiple files</td>
<td align="center"><code>1</code> or <code>0</code></td>
<td align="center"><code>1</code></td>
</tr>
<tr>
<td><code>--cfg-multiple-min</code></td>
<td>Minimum number of files that can be selected</td>
<td align="center">number</td>
<td align="center">none</td>
</tr>
<tr>
<td><code>--cfg-multiple-max</code></td>
<td>Maximum number of files that can be selected</td>
<td align="center">number</td>
<td align="center">none</td>
</tr>
<tr>
<td><code>--cfg-confirm-upload</code></td>
<td>Enables user confirmation for upload starting</td>
<td align="center"><code>1</code> or <code>0</code></td>
<td align="center"><code>1</code></td>
</tr>
<tr>
<td><code>--cfg-img-only</code></td>
<td>Accept images only</td>
<td align="center"><code>1</code> or <code>0</code></td>
<td align="center"><code>0</code></td>
</tr>
<tr>
<td><code>--cfg-accept</code></td>
<td>Native file input accept attribute value</td>
<td align="center"><code>&#39;image/*&#39;</code></td>
<td align="center">none</td>
</tr>
<tr>
<td><code>--cfg-store</code></td>
<td>Store files</td>
<td align="center"><code>1</code> or <code>0</code></td>
<td align="center">-</td>
</tr>
<tr>
<td><code>--cfg-camera-mirror</code></td>
<td>Flip camera image</td>
<td align="center"><code>1</code> or <code>0</code></td>
<td align="center"><code>0</code></td>
</tr>
<tr>
<td><code>--cfg-source-list</code></td>
<td>Comma-separated list of file sources. See available sources <a href="#source-list">below</a></td>
<td align="center"><code>&#39;local, url, camera&#39;</code></td>
<td align="center">none</td>
</tr>
<tr>
<td><code>--cfg-max-local-file-size-bytes</code></td>
<td>Maximum file size in bytes</td>
<td align="center">number</td>
<td align="center">none</td>
</tr>
<tr>
<td><code>--cfg-thumb-size</code></td>
<td>Image thumbnail size</td>
<td align="center"><code>76</code></td>
<td align="center"><code>76</code></td>
</tr>
<tr>
<td><code>--cfg-show-empty-list</code></td>
<td>Show uploads list when it&#39;s empty</td>
<td align="center"><code>1</code> or <code>0</code></td>
<td align="center"><code>0</code></td>
</tr>
<tr>
<td><code>--cfg-use-local-image-editor</code></td>
<td>Enable local image editing</td>
<td align="center"><code>1</code> or <code>0</code></td>
<td align="center"><code>0</code></td>
</tr>
<tr>
<td><code>--cfg-use-cloud-image-editor</code></td>
<td>Enable cloud image editing</td>
<td align="center"><code>1</code> or <code>0</code></td>
<td align="center"><code>0</code></td>
</tr>
<tr>
<td><code>--cfg-remote-tab-session-key</code></td>
<td>Key to revoke Custom OAuth access. See <a target='_blank'  href="https://uploadcare.com/docs/start/settings/#project-settings-advanced-oauth">docs</a> for details</td>
<td align="center">string</td>
<td align="center">none</td>
</tr>
<tr>
<td><code>--cfg-cdn-cname</code></td>
<td>Set Custom CNAME. See <a target='_blank'  href="https://uploadcare.com/docs/delivery/cdn/#custom-cdn-cname">docs</a> for details</td>
<td align="center">string</td>
<td align="center"><code>https://ucarecdn.com</code></td>
</tr>
<tr>
<td><code>--cfg-base-url</code></td>
<td>Set custom upload URL</td>
<td align="center">string</td>
<td align="center"><code>https://upload.uploadcare.com</code></td>
</tr>
<tr>
<td><code>--cfg-secure-signature</code></td>
<td>Set <code>signature</code> for Secure Uploads. See <a target='_blank'  href="https://uploadcare.com/docs/security/secure-uploads/#expire-explained">docs</a> for details</td>
<td align="center">string</td>
<td align="center">none</td>
</tr>
<tr>
<td><code>--cfg-secure-expire</code></td>
<td>Set <code>expire</code> for Secure Uploads. See <a target='_blank'  href="https://uploadcare.com/docs/security/secure-uploads/#expire-explained">docs</a> for details</td>
<td align="center">string</td>
<td align="center">none</td>
</tr>
<tr>
<td><code>--cfg-secure-delivery-proxy</code></td>
<td>Set proxy URL template for Secure Delivery. See <a href="#secure-delivery-proxy">here</a> for details</td>
<td align="center">string</td>
<td align="center">none</td>
</tr>
<tr>
<td><code>--cfg-group-output</code></td>
<td>Enables files group creation</td>
<td align="center"><code>1</code> or <code>0</code></td>
<td align="center"><code>0</code></td>
</tr>
<tr>
<td><code>--cfg-remove-copyright</code></td>
<td>Remove copyright</td>
<td align="center"><code>1</code> or <code>0</code></td>
<td align="center"><code>0</code></td>
</tr>
</tbody></table>
<h2 id="---cfg-source-list"><a name="source-list"></a> --cfg-source-list</h2>
<ul>
<li><code>local</code></li>
<li><code>url</code></li>
<li><code>camera</code></li>
<li><code>dropbox</code></li>
<li><code>gdrive</code></li>
<li><code>facebook</code></li>
<li><code>gphotos</code></li>
<li><code>instagram</code></li>
<li><code>flickr</code></li>
<li><code>vk</code></li>
<li><code>evernote</code></li>
<li><code>box</code></li>
<li><code>onedrive</code></li>
<li><code>huddle</code></li>
</ul>
<h3 id="example">Example</h3>
<pre><code class="language-css"><span class="hljs-selector-class">.my-configuration</span> {
  <span class="hljs-attr">--cfg-source-list</span>: <span class="hljs-string">&#x27;url, local, instagram&#x27;</span>;
}
</code></pre>
<h2 id="---cfg-secure-delivery-proxy"><a name="secure-delivery-proxy"></a> --cfg-secure-delivery-proxy</h2>
<p>The parameter can be used with <a target='_blank'  href="https://uploadcare.com/docs/security/secure-delivery/#authenticated-urls">signed URLs</a>. Defines template for your proxy <a target='_blank'  href="https://uploadcare.com/docs/security/secure-delivery/#proxy-backend">backend URL</a>.</p>
<p>This is replacement for the <a target='_blank'  href="https://uploadcare.com/docs/security/secure-delivery/#preview-proxy">File Uploader v3 <code>previewProxy</code> option</a>.</p>
<p><strong>NOTE</strong>: There is no replacement for <a target='_blank'  href="https://uploadcare.com/docs/security/secure-delivery/#preview-url-callback">File Uploader v3 <code>previewUrlCallback</code> option</a>. If you need such functionality, please create <a target='_blank'  href="https://github.com/uploadcare/blocks/issues/new?template=feature_request.md&amp;title=Secure%20delivery%20proxy%20callback">a feature request</a>.</p>
<p>Value for <code>--cfg-secure-delivery-proxy</code> is a string template with the following variables:</p>
<ul>
<li><code>previewUrl</code></li>
</ul>
<p>That means that you can use <code>{{previewUrl}}</code> in your template to insert the URL of file to proxify.</p>
<h3 id="example-1">Example</h3>
<pre><code class="language-css"><span class="hljs-selector-class">.my-configuration</span> {
  <span class="hljs-attr">--cfg-secure-delivery-proxy</span>: <span class="hljs-string">&#x27;https://domain.com/preview?url={{previewUrl}}&#x27;</span>;
}
</code></pre>
<h2 id="csp-settings">CSP settings</h2>
<p>If the application works with sensitive user data (e.g personal photos), it is recommended to increase its security with <a target='_blank'  href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP">CSP settings</a>. Uploader is using <code>Blob</code> URLs for on-the-flight generated images and the stylesheets in some cases, so don&#39;t forget to add <code>blob:</code> source into the CSP settings:</p>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span>
  <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;Content-Security-Policy&quot;</span>
  <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;style-src &#x27;self&#x27; blob:; script-src &#x27;self&#x27;; img-src &#x27;self&#x27; https://ucarecdn.com blob:;&quot;</span>
/&gt;</span>
</code></pre>
<p><br/><br/><br/></p>
<h1 id="üéÄ-styling"><a name="styling"></a>üéÄ Styling</h1>
<p>For the look &amp; feel customization, you can use the &quot;Elements&quot; section in your browser developer tools panel. It&#39;s easy to find any uploader inner components and their contents because they have custom tag names. You don&#39;t need any specific tools, unlike with libraries like React. These tag names could be used as convenient CSS selectors.</p>
<p>There are three major levels of possible styling customizations:</p>
<ol>
<li>Light and dark theme flag: <code>--darkmode:1;</code> (enabled) or <code>--darkmode:0;</code> (disabled).</li>
<li>The set of basic CSS variables used for the other styling calculations.</li>
<li>Custom CSS rules for each element.</li>
</ol>
<h2 id="basic-theme-for-blocks">Basic theme for blocks</h2>
<p>There are 4 levels of abstraction:</p>
<ul>
<li><a href="#base-values">Base values</a></li>
<li><a href="#derivative-values">Derivative values</a></li>
<li><a href="#common-styles">Common styles</a></li>
<li><a href="#component-styles">Component styles</a></li>
</ul>
<h3 id="hsl-color-space">HSL color space</h3>
<p>We use HSL color space because it allows us to easily calculate derivative colors. That&#39;s what prefixes <code>--h-</code>, <code>--s-</code>, and <code>--l-</code> are stand for.</p>
<h3 id="quick-styling">Quick styling</h3>
<p>In most cases switching the dark mode on or off and changing the accent color is enough to make block match your design.</p>
<!-- If you want to do a deeper styling, see this guide.
TODO: write a guide. -->

<pre><code class="language-css"><span class="hljs-attr">--darkmode</span>: <span class="hljs-number">1</span>;
</code></pre>
<pre><code class="language-css"><span class="hljs-attr">--h-accent</span>: <span class="hljs-number">211</span>;
<span class="hljs-attr">--s-accent</span>: <span class="hljs-number">100%</span>;
<span class="hljs-attr">--l-accent</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">50%</span> - <span class="hljs-number">5%</span> * <span class="hljs-built_in">var</span>(--darkmode));
</code></pre>
<h2 id="base-values">Base values</h2>
<ul>
<li><code>--darkmode</code> ‚Äî <code>1</code>: dark mode enabled, <code>0</code>: disabled;</li>
<li><code>--*-foreground</code> ‚Äî text color, borders, and shaders. It should be in contrast to the background;</li>
<li><code>--*-background</code> ‚Äî background color and its variations;</li>
<li><code>--*-accent</code> ‚Äî colors of buttons, links, and text input borders (hover and focus). It should be in contrast to the background;</li>
<li><code>--*-confirm</code> ‚Äî the color of confirmation notifications and badges;</li>
<li><code>--*-error</code> ‚Äî the color of error notifications and badges;</li>
<li><code>--opacity-*</code> ‚Äî opacity of different states of small icon buttons;</li>
<li><code>--ui-size</code> ‚Äî minimum size of a clickable element. Also used to calculate the size of the elements, which should be proportional to it;</li>
<li><code>--gap-*</code> ‚Äî paddings and margins;</li>
<li><code>--gap-table</code> ‚Äî the gap between elements in lists (for example, in upload-list);</li>
<li><code>--borders</code> ‚Äî <code>1</code>: borders enabled, <code>0</code>: disabled. Can be fractional, for example, 0.5 will make borders half as opaque;</li>
<li><code>--border-radius-element</code> ‚Äî border radius of buttons and inputs;</li>
<li><code>--border-radius-frame</code> ‚Äî border radius of modal windows and drop area;</li>
<li><code>--border-radius-thumb</code> ‚Äî border radius of thumbnails;</li>
<li><code>--transition-duration</code> ‚Äî duration of all animated transitions;</li>
<li><code>--shadows</code> ‚Äî <code>1</code>: shadows enabled, <code>0</code>: disabled. Can be fractional, for example 0.5, will make shadows half as opaque;</li>
<li><code>--*-shadow</code> ‚Äî the color of box shadows;</li>
<li><code>--modal-max-w</code>, <code>--modal-max-h</code> ‚Äî the maximum size of the modal window.</li>
</ul>
<h2 id="derivative-values">Derivative values</h2>
<p>Derivative values are calculated from the base values.</p>
<ul>
<li><code>--darkmode-minus</code> ‚Äî used for dark mode color calculations. Gives <code>-1</code> when dark mode is enabled, <code>1</code> when disabled;</li>
<li><code>--clr-background*</code> ‚Äî lightness variations of the background color;</li>
<li><code>--clr-accent*</code> ‚Äî opacity variations of the accent color;</li>
<li><code>--clr-confirm</code> ‚Äî confirmation notifications color;</li>
<li><code>--clr-error</code> ‚Äî opacity and lighness variations of the error notifications color;</li>
<li><code>--clr-txt*</code> ‚Äî lightness variations of the text color;</li>
<li><code>--clr-shade-lv*</code> ‚Äî shading colors (foreground color with a low opacity variations);</li>
<li><code>--border-*</code> ‚Äî border variations;</li>
<li><code>--clr-curtain</code> ‚Äî color of the background behind the modal window;</li>
<li><code>--clr-btn-bgr-primary*</code>, <code>--clr-btn-txt-primary</code>, <code>--shadow-btn-primary</code> ‚Äî primary action button values;</li>
<li><code>--clr-btn-bgr-secondary*</code>, <code>--clr-btn-txt-secondary</code>, <code>--shadow-btn-secondary</code> ‚Äî secondary action button values;</li>
<li><code>--clr-btn-bgr-disabled</code>, <code>--clr-btn-txt-disabled</code>, <code>--shadow-btn-disabled</code> ‚Äî disabled button values.</li>
</ul>
<h2 id="common-styles">Common styles</h2>
<p>Common styles define similar UI elements across different blocks: buttons, inputs, and links.</p>
<h2 id="component-styles">Component styles</h2>
<p>Component styles are the most specific.</p>
<!-- TODO: decide about recommendations here -->

<h2 id="shadow-dom">Shadow DOM</h2>
<p>If you need additional isolation and styling security levels, you can get it with Shadow DOM.
To enable it and encapsulate all styles into separated scope, use the <code>css-src</code> attribute:</p>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">lr-uploader</span> <span class="hljs-attr">css-src</span>=<span class="hljs-string">&quot;https://unpkg.com/@uploadcare/blocks@0.19.0/web/file-uploader-regular.min.css&quot;</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">lr-uploader</span>&gt;</span>
</code></pre>
<p><br/><br/><br/></p>
<h1 id="ü™§-data-handling"><a name="handling_data"></a>ü™§ Data handling</h1>
<h2 id="with-the-data-output">With the data output</h2>
<p>We provide the dedicated block for the data output purposes ‚Äî <code>&lt;lr-data-output&gt;</code>. This Custom Element can be connected to some workflow context and provide you with convenient data access.</p>
<p>Here is the code example:</p>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;output-template&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Files uploaded:<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">repeat</span>=<span class="hljs-string">&quot;filesData&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">lr-img</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;300&quot;</span> <span class="hljs-attr">set</span>=<span class="hljs-string">&quot;@uuid: uuid&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">lr-img</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">set</span>=<span class="hljs-string">&quot;@href: cdnUrl&quot;</span>&gt;</span>{{cdnUrl}}<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">lr-data-output</span> <span class="hljs-attr">use-console</span> <span class="hljs-attr">use-event</span> <span class="hljs-attr">use-template</span>=<span class="hljs-string">&quot;#output-template&quot;</span>&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">lr-data-output</span>&gt;</span>
</code></pre>
<p>Let&#39;s walk through its attributes:</p>
<ul>
<li><code>use-console</code> ‚Äî enables browser console output without modifying the source code.</li>
<li><code>use-event</code> ‚Äî enables custom events (<code>data-output</code>) dispatching for the DOM element. These events contain all uploading data and could be processed at any level of your application.</li>
<li><code>use-group</code> - create group from uploaded files, the same as <code>--cfg-group-output</code>.</li>
<li><code>use-template</code> ‚Äî uploading results could be rendered as a list of nested DOM elements. You can specify a simple template for that.</li>
<li><code>use-input</code> ‚Äî create input to be used inside HTML-form.</li>
<li><code>input-name</code> ‚Äî used together with <code>use-form</code>. Sets the input name. The context name will be used by default.</li>
<li><code>input-required</code> ‚Äî whether the input is required or not. Works as the native <a target='_blank'  href="https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/required"><code>required</code> attribute</a>.</li>
</ul>
<h2 id="with-the-event-listener">With the event listener</h2>
<pre><code class="language-js"><span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;LR_DATA_OUTPUT&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(e.<span class="hljs-property">detail</span>);
});
</code></pre>
<p><br/><br/><br/></p>
<h1 id="üî•-events"><a name="events"></a>üî• Events</h1>
<h2 id="upload-flow-events">Upload flow events</h2>
<ul>
<li><code>LR_UPLOAD_START</code> ‚Äî upload is started for the file list selected by the user</li>
<li><code>LR_REMOVE</code> ‚Äî fired when one of the uploaded items is removed from the uploading list</li>
<li><code>LR_UPLOAD_PROGRESS</code> ‚Äî common upload progress for the list</li>
<li><code>LR_UPLOAD_FINISH</code> ‚Äî uploading is finished</li>
<li><code>LR_UPLOAD_ERROR</code> ‚Äî error ocurred during file uploading</li>
<li><code>LR_VALIDATION_ERROR</code> ‚Äî file fails checks according to the validation settings</li>
<li><code>LR_CLOUD_MODIFICATION</code> ‚Äî image was modified via cloud API</li>
<li><code>LR_DATA_OUTPUT</code> ‚Äî common data about uploads</li>
</ul>
<p>You can catch all events in window scope:</p>
<pre><code class="language-js"><span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;LR_UPLOAD_START&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(e.<span class="hljs-property">detail</span>);
});
</code></pre>
<p>To define what exact workflow caused an event, use the context name:</p>
<pre><code class="language-html">...
<span class="hljs-tag">&lt;<span class="hljs-name">lr-file-uploader-regular</span> <span class="hljs-attr">ctx-name</span>=<span class="hljs-string">&quot;UPLOADER_1&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">lr-file-uploader-regular</span>&gt;</span>
...
<span class="hljs-tag">&lt;<span class="hljs-name">lr-file-uploader-regular</span> <span class="hljs-attr">ctx-name</span>=<span class="hljs-string">&quot;UPLOADER_2&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">lr-file-uploader-regular</span>&gt;</span>
...
</code></pre>
<pre><code class="language-js"><span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;LR_UPLOAD_START&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (e.<span class="hljs-property">detail</span>.<span class="hljs-property">ctx</span> === <span class="hljs-string">&#x27;UPLOADER_1&#x27;</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Uploading started in the FIRST uploader instance.&#x27;</span>, e.<span class="hljs-property">detail</span>.<span class="hljs-property">data</span>);
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (e.<span class="hljs-property">detail</span>.<span class="hljs-property">ctx</span> === <span class="hljs-string">&#x27;UPLOADER_2&#x27;</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Uploading started in the SECOND uploader instance.&#x27;</span>, e.<span class="hljs-property">detail</span>.<span class="hljs-property">data</span>);
  }
});
</code></pre>
<p><br/><br/><br/></p>
<h1 id="activities"><a name="activities"></a>Activities</h1>
<p><em>Activity</em> is a current user interaction stage focused on the uploader application. It helps manage the visibility of components and switches between several UI states. To create an activity, you should register it in your custom block:</p>
<pre><code class="language-javascript"><span class="hljs-keyword">import</span> { <span class="hljs-variable constant_">LR</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@uploadcare/blocks&#x27;</span>;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyBlock</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">LR.BlockComponent</span> {
  <span class="hljs-title function_">initCallback</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">onActivate</span> = (<span class="hljs-params"></span>) =&gt; {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;activity-name is activated&#x27;</span>);
    };
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">onDeactivate</span> = (<span class="hljs-params"></span>) =&gt; {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;activity-name is deactcivated&#x27;</span>);
    };
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">registerActivity</span>(<span class="hljs-string">&#x27;my-activity-name&#x27;</span>, {
      onActivate,
      onDeactivate,
    });
  }
}
</code></pre>
<p>Then, if some other component will call the registered activity, it will be activated with an <code>active</code> attribute, and the activation callback will be called.</p>
<p>JavaScript:</p>
<pre><code class="language-javascript"><span class="hljs-keyword">import</span> { <span class="hljs-variable constant_">LR</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@uploadcare/blocks&#x27;</span>;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyOtherBlock</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">LR.BlockComponent</span> {
  onclick = <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">$</span>[<span class="hljs-string">&#x27;*currentActivity&#x27;</span>] = <span class="hljs-string">&#x27;my-activity-name&#x27;</span>;
  };
}
</code></pre>
<p>Resulting HTML:</p>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">lr-my-block</span> <span class="hljs-attr">activity</span>=<span class="hljs-string">&quot;my-activity-name&quot;</span> <span class="hljs-attr">active</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">lr-my-block</span>&gt;</span>
</code></pre>
<p>Then you can use <code>lr-my-block[active]</code> selector to specify visibility or animations with CSS.</p>
<p>Here is the list of reserved pre-defined activities:</p>
<ul>
<li><code>source-select</code></li>
<li><code>camera</code></li>
<li><code>upload-list</code></li>
<li><code>url</code></li>
<li><code>confirmation</code></li>
<li><code>cloud-image-edit</code></li>
<li><code>*external</code></li>
<li><code>details</code></li>
</ul>
</col-css>
      </main>
      <footer>¬© 2022 ü¶Ü</footer>
      <div class="arrow-top" onclick="scrollToTop()">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="icon icon-tabler icon-tabler-arrow-up-circle"
          width="60"
          height="60"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="#9e9e9e"
          fill="none"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path stroke="none" d="M0 0h24v24H0z" fill="none" />
          <circle cx="12" cy="12" r="9" />
          <line x1="12" y1="8" x2="8" y2="12" />
          <line x1="12" y1="8" x2="12" y2="16" />
          <line x1="16" y1="12" x2="12" y2="8" />
        </svg>
      </div>
    </body>
  </html>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const sidebarItems = document.querySelectorAll('.menu-item');
      sidebarItems.forEach((i) => {
        if (i.parentElement.pathname === window.location.pathname) {
          i.classList.add('current');
        }
      });
    });

    function scrollToTop() {
      window.scrollTo(0, 0);
    }
  </script> 